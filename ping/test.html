<html>
    <head>
        <title>Ping Tool</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="js/ping.js"></script>
    </head>
    <body>
        <div id="app">
            <div class="ping_box">
                <div>1.
                    <input v-model="ip_1">	
                    <button type='button' @click="show_latency_1(ip_1)">Ping</button>
                    <button type='button' @click="stop_latency_1()">Stop</button>
                    <div v-if='show_1'>
                        <span>气站名: [[ ip_1 ]]</span>
                        <span>延迟：[[ t_latency_1 ]]</span>		
                    </div>
                            
                </div>
                <hr>
            </div>
        </div>
        <script type="text/javascript">
            var vm = new Vue({
                el: "#app",
                delimiters: ['[[', ']]'],
                data: {
                    t_latency_1: 1,
                    ip_1: null,
                    change_1: null,
                    show_1: true,

                },
                methods: {
                    show_latency_1(ip){
                        this.change_1 = setInterval(
                            function(){
                                this.t_latency_1 = this.t_latency_1 + 1; 
                                console.log(this.t_latency_1)
                            }, 1000) 
                    },
                    stop_latency_1(){
                        clearInterval(this.change_1)
                    }
                }
            })
        </script>
    </body>
</html>